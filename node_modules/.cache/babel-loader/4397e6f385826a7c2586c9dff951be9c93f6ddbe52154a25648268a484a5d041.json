{"ast":null,"code":"import { SORT_HEIGHT, GET_DOGS, GET_DOG, CLEAN_DOG_DETAILS, CREATE_DOG, GET_DOG_BY_NAME, GET_TEMPERAMENTS, LOADING, FILTER_BY_SOURCE, FILTER_BY_TEMPERAMENTS, REMOVE_FILTERS, SORT_NAME, SORT_WEIGHT, DELETE_DOG, UPDATE_DOG } from './actionTypes';\nconst initialState = {\n  dogs: [],\n  //!DOGS WITH FILTERS\n  dogs_backup: [],\n  //!ALL DOGS ALWAYS\n  dog_details: {},\n  temperaments: [],\n  loading: false\n};\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let dogsFiltered = [];\n  switch (action.type) {\n    case GET_DOGS:\n      return {\n        ...state,\n        dogs: action.payload,\n        dogs_backup: action.payload,\n        loading: false\n      };\n    case GET_DOG:\n      return {\n        ...state,\n        dog_details: action.payload,\n        loading: false\n      };\n    case GET_TEMPERAMENTS:\n      return {\n        ...state,\n        temperaments: action.payload\n      };\n    case GET_DOG_BY_NAME:\n      return {\n        ...state,\n        dogs: action.payload\n      };\n    case CLEAN_DOG_DETAILS:\n      return {\n        ...state,\n        dog_details: {}\n      };\n    case LOADING:\n      return {\n        ...state,\n        loading: true\n      };\n    case CREATE_DOG:\n      return {\n        ...state,\n        dogs: [...state.dogs, action.payload],\n        dogs_backup: [...state.dogs_backup, action.payload]\n      };\n    case UPDATE_DOG:\n      let id = action.payload.id;\n      return {\n        ...state,\n        dogs: [...state.dogs.filter(dog => dog.id !== id), action.payload],\n        dogs_backup: [...state.dogs_backup.filter(dog => dog.id !== id), action.payload]\n      };\n    case DELETE_DOG:\n      return {\n        ...state,\n        dogs: state.dogs.filter(breed => breed.id !== action.payload),\n        dogs_backup: state.dogs_backup.filter(breed => breed.id !== action.payload)\n      };\n    case FILTER_BY_SOURCE:\n      if (action.payload === \"all\") {\n        dogsFiltered = state.dogs;\n      } else if (action.payload === \"api\") {\n        dogsFiltered = state.dogs.filter(dog => dog.created === false);\n      } else {\n        dogsFiltered = state.dogs.filter(dog => dog.created === true);\n      }\n      return {\n        ...state,\n        dogs: dogsFiltered\n      };\n    case FILTER_BY_TEMPERAMENTS:\n      dogsFiltered = action.payload === 'all' ? state.dogs : state.dogs.filter(dog => {\n        if (!dog.temperaments) return undefined;\n        return dog.temperaments.includes(action.payload);\n      });\n      return {\n        ...state,\n        dogs: dogsFiltered\n      };\n    case REMOVE_FILTERS:\n      return {\n        ...state,\n        dogs: state.dogs_backup\n      };\n    case SORT_NAME:\n      const sortedDogsABC = [...state.dogs];\n      if (action.payload === 'asc') {\n        sortedDogsABC.sort((a, b) => a.name.localeCompare(b.name));\n      } else {\n        sortedDogsABC.sort((a, b) => b.name.localeCompare(a.name));\n      }\n      return {\n        ...state,\n        dogs: sortedDogsABC\n      };\n    case SORT_WEIGHT:\n      const sortedDogsWeight = [...state.dogs];\n      sortedDogsWeight.forEach(dog => {\n        const weights = dog.weight.split(' - ').map(w => parseInt(w));\n        dog.avg = weights.reduce((a, b) => a + (isNaN(b) ? a : b), 0) / weights.length;\n      });\n      if (action.payload === 'asc') {\n        sortedDogsWeight.sort((a, b) => a.avg - b.avg);\n      } else {\n        sortedDogsWeight.sort((a, b) => b.avg - a.avg);\n      }\n      return {\n        ...state,\n        dogs: sortedDogsWeight\n      };\n    case SORT_HEIGHT:\n      const sortedHeight = [...state.dogs];\n      sortedHeight.forEach(dog => {\n        const heights = dog.height.split(' - ').map(h => parseInt(h));\n        dog.avg = heights.reduce((a, b) => a + (isNaN(b) ? a : b), 0) / heights.length;\n      });\n      if (action.payload === 'asc') {\n        sortedHeight.sort((a, b) => a.avg - b.avg);\n      } else {\n        sortedHeight.sort((a, b) => b.avg - a.avg);\n      }\n      return {\n        ...state,\n        dogs: sortedHeight\n      };\n    default:\n      return {\n        ...state\n      };\n  }\n};\nexport default reducer;","map":{"version":3,"names":["SORT_HEIGHT","GET_DOGS","GET_DOG","CLEAN_DOG_DETAILS","CREATE_DOG","GET_DOG_BY_NAME","GET_TEMPERAMENTS","LOADING","FILTER_BY_SOURCE","FILTER_BY_TEMPERAMENTS","REMOVE_FILTERS","SORT_NAME","SORT_WEIGHT","DELETE_DOG","UPDATE_DOG","initialState","dogs","dogs_backup","dog_details","temperaments","loading","reducer","state","arguments","length","undefined","action","dogsFiltered","type","payload","id","filter","dog","breed","created","includes","sortedDogsABC","sort","a","b","name","localeCompare","sortedDogsWeight","forEach","weights","weight","split","map","w","parseInt","avg","reduce","isNaN","sortedHeight","heights","height","h"],"sources":["C:/Users/Usuario/Downloads/CLIENT PI DOGS/client/src/redux/reducer.js"],"sourcesContent":["import {SORT_HEIGHT, GET_DOGS, GET_DOG , CLEAN_DOG_DETAILS , CREATE_DOG, GET_DOG_BY_NAME,  GET_TEMPERAMENTS, LOADING, FILTER_BY_SOURCE, FILTER_BY_TEMPERAMENTS, REMOVE_FILTERS, SORT_NAME, SORT_WEIGHT, DELETE_DOG, UPDATE_DOG} from  './actionTypes';\r\n\r\nconst initialState = {\r\n    dogs: [], //!DOGS WITH FILTERS\r\n    dogs_backup: [], //!ALL DOGS ALWAYS\r\n    dog_details: {},\r\n    temperaments: [],\r\n    loading: false,\r\n}\r\n\r\n\r\nconst reducer = (state=initialState, action) =>{\r\n      let dogsFiltered = [];\r\n\r\n    switch(action.type){\r\n       \r\n      case GET_DOGS:\r\n            return{...state, dogs: action.payload, dogs_backup: action.payload, loading:false}\r\n      \r\n      case GET_DOG:\r\n            return{...state, dog_details: action.payload, loading:false}\r\n            \r\n      case GET_TEMPERAMENTS:\r\n            return{...state, temperaments: action.payload}   \r\n        \r\n\r\n      case GET_DOG_BY_NAME:\r\n            return{...state, dogs: action.payload}\r\n\r\n      case CLEAN_DOG_DETAILS:\r\n            return{...state, dog_details: {}}\r\n        \r\n      case LOADING:\r\n            return{...state, loading:true}\r\n      case CREATE_DOG:\r\n            return{...state, dogs:[...state.dogs, action.payload], dogs_backup: [...state.dogs_backup, action.payload]}\r\n\r\n      case UPDATE_DOG:\r\n            let id = action.payload.id;\r\n           \r\n            return{...state, dogs: [...state.dogs.filter(dog=> dog.id !== id), action.payload], dogs_backup: [...state.dogs_backup.filter(dog=> dog.id !== id), action.payload]  }\r\n\r\n      case DELETE_DOG:\r\n            return({\r\n                ...state,\r\n                dogs: state.dogs.filter( breed => breed.id !== action.payload),\r\n                dogs_backup: state.dogs_backup.filter( breed => breed.id !== action.payload)\r\n            })\r\n\r\n      case FILTER_BY_SOURCE:\r\n           \r\n            if(action.payload === \"all\"){\r\n                dogsFiltered = state.dogs; \r\n            } else if(action.payload === \"api\"){\r\n                dogsFiltered = state.dogs.filter(dog => dog.created === false); \r\n                \r\n            } else {\r\n                dogsFiltered = state.dogs.filter(dog =>dog.created=== true); \r\n            }          \r\n            return{...state, dogs: dogsFiltered }\r\n     \r\n      case FILTER_BY_TEMPERAMENTS:\r\n          \r\n            dogsFiltered = action.payload === 'all' ? state.dogs : state.dogs.filter(dog => {\r\n                  if(!dog.temperaments) return undefined;\r\n                  return dog.temperaments.includes(action.payload)\r\n            })\r\n           \r\n            return({...state, dogs: dogsFiltered})\r\n\r\n\r\n      case REMOVE_FILTERS:\r\n            return{...state, dogs:state.dogs_backup}\r\n\r\n      case SORT_NAME:\r\n            const sortedDogsABC = [...state.dogs];\r\n            if(action.payload === 'asc'){\r\n                sortedDogsABC.sort( (a,b) => a.name.localeCompare(b.name))\r\n            }\r\n            else {\r\n                sortedDogsABC.sort( (a,b) => b.name.localeCompare(a.name))\r\n            }\r\n            return({\r\n                ...state,\r\n                dogs: sortedDogsABC\r\n            })\r\n            \r\n       case SORT_WEIGHT:\r\n             const sortedDogsWeight = [...state.dogs];\r\n             sortedDogsWeight.forEach(dog => {\r\n               const weights = dog.weight.split(' - ').map(w => parseInt(w)); \r\n               dog.avg = weights.reduce((a,b) => a + (isNaN(b) ? a : b), 0) / weights.length; \r\n             });\r\n             if (action.payload === 'asc') {\r\n               sortedDogsWeight.sort((a,b) => a.avg - b.avg);\r\n             } else {\r\n               sortedDogsWeight.sort((a,b) => b.avg - a.avg);\r\n             }\r\n             return {\r\n               ...state,\r\n               dogs: sortedDogsWeight\r\n             };\r\n                \r\n         case SORT_HEIGHT:\r\n            const sortedHeight = [...state.dogs];\r\n            sortedHeight.forEach(dog=>{\r\n                  const heights = dog.height.split(' - ').map(h=> parseInt(h));\r\n\r\n                  dog.avg = heights.reduce((a,b)=> a + (isNaN(b) ? a : b), 0) / heights.length;\r\n            });\r\n            if( action.payload === 'asc'){\r\n                  sortedHeight.sort((a,b)=> a.avg -b.avg);\r\n            } else{\r\n                  sortedHeight.sort((a,b)=> b.avg -a.avg);\r\n            }\r\n            return{\r\n                  ...state,\r\n                  dogs:sortedHeight\r\n            }\r\n\r\n      default:\r\n           return {...state}\r\n    }\r\n}\r\n     \r\n\r\nexport default reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}